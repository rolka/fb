<html lang="en-US">
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.0/css/materialize.min.css">
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.0/sweetalert.min.css" rel="stylesheet">

    <link rel="icon" href="http://www.mzirafos.lt/favicon.ico" type="image/x-icon" />
    <link rel="shortcut icon" href="http://www.mzirafos.lt/favicon.ico" type="image/x-icon" />

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Mėmelio Žirafos - Facebook feeds page</title>

    <style>
        html {
            overflow-y:scroll;
        }
        header {
            margin-bottom: 50px;
        }
        .progress {
            top: 50%;
            width: 50%;
            margin: 0 auto;
        }
    </style>
</head>
<body>

<!--
comment out temporary
-->
<div class="progress">
    <div class="indeterminate"></div>
</div>

<div class="preloader-wrap-cust hide"> <!--add class hide-->
    <!--header-->
    <header>
        <nav class="top-nav">
            <div class="container">
                <div class="nav-wrapper">
                    <p>Mėmelio Žirafos Facebook feeds page</p>
                </div>
            </div>
        </nav>
    </header>
    <!--end header-->

    <div class="container">
        <div class="row">
            <!--checkbox to show all posts or events only-->
            <div class="col s6">
                <p>
                    <input type="checkbox" id="events-only" />
                    <label for="events-only">Show events only</label>
                </p>
            </div><!--end checkbox-->
        </div>
    </div>
    <div class="container">
        <div class="row">
            <!--posts wrapper-->
            <div class="col s12" id="simpsons">
                <h3 class="center-align" id="posts-acc-title">Duzenos posts</h3>
                <div id="fbdata">
                    <!--posts template-->
                    <div class="card blue-grey darken-1">
                        <div class="card-content white-text">
                            <div class="row">
                                <div class="col s2">
                                    <img class="responsive-img" src="https://placehold.it/350x150" alt=""/>
                                </div>
                                <div class="col s10">
                                    <span class="card-title">Card Title</span>
                                    <p>I am a very simple card. I am good at containing small bits of information. I am convenient because I require little markup to use effectively.</p>
                                </div>
                            </div>
                        </div>
                        <div class="card-action">
                            <a href="#">Open post</a>
                        </div>
                    </div><!--end posts template-->
                </div>
            </div><!--end posts wrapper-->
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.0/js/materialize.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sugar/1.4.1/sugar.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.0/sweetalert.min.js"></script>

<script>
    (function() {

        /*
        * SLUGS
        * will be more of them
        * array of objects
        */

        var slugs = [
            {
                slug: 'sisaidgallery',
                complete: false
            },
            {
                slug: 'duzenos',
                complete: false
            },
            {
                slug: 'bbcnews',
                complete: false
            },
            {
                slug: 'Klaipeda.renginiai',
                complete: false
            },
            {
                slug: 'PORTbyBarBara',
                complete: false
            },
            {
                slug: 'Kastonas',
                complete: false
            },
            {
                slug: 'klaipedosdramosteatras',
                complete: false
            },
            {
                slug: '238899589464193',
                complete: false
            }
        ];

        /* end of slugs */

        /*
        * hide preloader
        */
        $('.progress').fadeOut();
        $('.preloader-wrap-cust').removeClass('hide');


        /*
        * Default- show ALL posts
        * when Events checkbox is checked- show only events
        */

        /*
        * FB set up
        */

        var token = 'CAAQYWWjo5zkBAKNWF2HlflTTgPSMATHC8Ecp6vZANJ5ZAUABYwilDeekf1cayODlqXNZATKv4dkwdi6PIqY3EGA2ZAEO2pvxEeD1SxwribyZCTIJz1zmBgkKnP8jEVbdhoZBt8IrbvToS9WVW3bWMWBHiLBOx5U5ZCn4xT1lIyGI3niAEaRZCa1g';

        var showlAllPosts = function(){
            /*
             * Jose's comments
             *
             * make ajax call 1
             * make ajax call 2
             * figure out when both calls have complete
             * merge the data from both calls
             * sort the the merged data by date
             */
        };


        var isChecked = function(selector) {

            return $(selector).is(':checked');
            // "#events-only"

        };


        /*
        *
        * previous code below
        * some part are reusable
        *
        */


//        var token = 'CAAQYWWjo5zkBAKNWF2HlflTTgPSMATHC8Ecp6vZANJ5ZAUABYwilDeekf1cayODlqXNZATKv4dkwdi6PIqY3EGA2ZAEO2pvxEeD1SxwribyZCTIJz1zmBgkKnP8jEVbdhoZBt8IrbvToS9WVW3bWMWBHiLBOx5U5ZCn4xT1lIyGI3niAEaRZCa1g';
//        var connector = '&access_token=';
//        var baseURL = 'https://graph.facebook.com/v2.4/';
//
//        var makeAjax = function(fbUrl, next) {
//            $.ajax({
//                url: baseURL + fbUrl + connector + token,
//            }).done(function(data) {
//                next(data);
//            }).error(function() {
//                swal({
//                    title: "Oops...",
//                    text: "Facebook page not found",
//                    timer: 2000,
//                    showConfirmButton: false,
//                    type: 'error',
//                    allowOutsideClick: true
//                    // warning success info error
//                });
//            });
//        };
//
//        var bindSimpsons = function(data) {
//            domManipulation('#fbdata', data);
//
//            $('.progress').fadeOut();
//            $('.preloader-wrap-cust').removeClass('hide');
//        };
//
//        var domManipulation = function(node, data) {
//
//            var html = '<ul>';
//
//            data.data.forEach(function(row) {
//
//                // IF events is checked - show only events ELSE show all posts
//                if($("#events-only").is(':checked')) {
//
//                    // get events only
//                    if( row.type == 'event' ){
//                        console.log("events");
//
////                        var selectTextValue = $( ".select-fb-acc option:selected").text();
////                        $('#posts-acc-title').text(selectTextValue + ' events');
//
//                        var postImage = "";
//                        var descroptionas = "";
//                        var zinute = "";
//                        var posts = "posts";
//                        var selectTextValue = $( ".select-fb-acc option:selected").text();
//                        $('#posts-acc-title').text(selectTextValue + ' events');
//
//                        if(row.picture !== undefined){
//                            postImage = row.picture;
//                        }
//
//                        if(row.description !== undefined){
//                            descroptionas = row.description;
//                        }
//
//                        if(row.message !== undefined){
//                            zinute = row.message;
//                        }
//
//                        html += '<div class="row"><div class="col s12 m12"><div class="card blue-grey darken-1 hoverable"><div class="card-content white-text"><span class="card-title" style="font-size: 14px;">Posted at: '+ Date.create(row.created_time).format('{HH}:{mm}, {Weekday}, {d} {Month}, {yyyy}') +' </span>   <div class="row"><div class="col s2"><p><img class="responsive-img" src=" '+ postImage +' " alt=""/></p></div>    <div class="col s10"><h5 style="margin-top: 0;"> '+ zinute +' </h5><p> '+ descroptionas +' </p></div></div>   </div><div class="card-action"><a target="_blank" href=" '+ row.link +' ">Open post<i class="material-icons" style="position: relative;top: 3px; font-size: 16px; padding-left: 5px;">launch</i></a></div></div></div></div>'
//
//                    }
//                }
//
//                else
//                {
//                    var postImage = "";
//                    var descroptionas = "";
//                    var zinute = "";
//
//                    var selectTextValue = $( ".select-fb-acc option:selected").text();
//                    $('#posts-acc-title').text(selectTextValue + ' posts');
//
//                    if(row.picture !== undefined){
//                        postImage = row.picture;
//                    }
//
//                    if(row.description !== undefined){
//                        descroptionas = row.description;
//                    }
//
//                    if(row.message !== undefined){
//                        zinute = row.message;
//                    }
//
//                    html += '<div class="row"><div class="col s12 m12"><div class="card blue-grey darken-1 hoverable"><div class="card-content white-text"><span class="card-title" style="font-size: 14px;">Posted at: '+ Date.create(row.created_time).format('{HH}:{mm}, {Weekday}, {d} {Month}, {yyyy}') +' </span>   <div class="row"><div class="col s2"><p><img class="responsive-img" src=" '+ postImage +' " alt=""/></p></div>    <div class="col s10"><h5 style="margin-top: 0;"> '+ zinute +' </h5><p> '+ descroptionas +' </p></div></div>   </div><div class="card-action"><a target="_blank" href=" '+ row.link +' ">Open post<i class="material-icons" style="position: relative;top: 3px; font-size: 16px; padding-left: 5px;">launch</i></a></div></div></div></div>'
//
//                }
//
//            });
//
//            html += '</ul>';
//
//            $(node).html(html);
//        };
//
//
//        $('.select-fb-acc').change(function(event) {
//
//            $('.progress').fadeIn();
//            $('.preloader-wrap-cust').addClass('hide');
//
////            var selectTextValue = $( ".select-fb-acc option:selected").text();
////            $('#posts-acc-title').text(selectTextValue + ' posts');
//
//            makeAjax(event.target.value + '/feed?fields=picture,created_time,message,link,type,description&limit=50', bindSimpsons);
//
//        });
//
//        $( ".waves-light" ).click(function(event) {
//
//            event.preventDefault();
//
//            var ola = $('#first_name2').val();
//
//            if( ola !== "" ){
//                $('#posts-acc-title').text(ola + ' postsaaa');
//                $('#simpsons').hide();
//                makeAjax( ola + '/feed?fields=picture,created_time,message,link,type,description&limit=50', bindSimpsons);
//
//                setTimeout(function(){
//                    $('#simpsons').fadeIn('500');
//                }, 600);
//
//            }
//            else{
//                swal({
//                    title: "Oops...",
//                    text: "Please enter slug",
//                    timer: 2000,
//                    showConfirmButton: false,
//                    type: 'warning',
//                    allowOutsideClick: true
//                    // warning success info error
//                });
//            }
//        });
//        makeAjax('duzenos/feed?fields=picture,created_time,message,link,type,description&limit=50', bindSimpsons);

    })();
</script>
</body>
</html>










